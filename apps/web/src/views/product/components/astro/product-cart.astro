---
import { Category } from "@/types/category";
import { Product } from "@/types/product";
import { Button } from "@workspace/ui/components/button";
import { Minus, NotebookPen, Plus, Trash2 } from "lucide-react";

type Props = { product: Product & { category: Category } & { note: string } };
const { product } = Astro.props;
---

<div
  class="flex flex-wrap rounded-xl border border-background p-3 bg-white hover:bg-primary/20 hover:border hover:border-primary transition-all duration-300"
>
  <div class="basis-4/12 lg:basis-3/12 mb-2">
    <img
      src={product.image}
      class="w-full object-cover rounded-xl aspect-square sm:aspect-auto"
      alt="icon"
    />
  </div>
  <div class="flex flex-col gap-1 ps-4 basis-8/12 lg:basis-9/12">
    <div class="flex items-center justify-between">
      <p class="text-secondary font-normal text-xs">
        {product.category.name}
      </p>

      <Button
        variant={"outline_destructive"}
        className="font-normal text-xs ml-2 w-8 h-8 rounded-full inset-ring-0"
      >
        <Trash2 />
      </Button>
    </div>
    <h3 class="text-accent-foreground font-medium text-sm">
      {product.name}
    </h3>
    <p class="text-muted-foreground font-normal text-[10px] line-clamp-1">
      {product.description}
    </p>

    <div class="flex items-center justify-between">
      <p class="text-destructive font-semibold text-sm" data-id="1" id="price">
        Rp {product.price}
      </p>
      <div class="flex items-center gap-2">
        <Button
          type="button"
          className="flex items-center justify-center w-6 h-6 rounded-full"
          variant={"outline_primary"}
        >
          <Minus className="size-3 stroke-3" />
        </Button>

        <p class="text-destructive font-semibold text-sm" id="qty">1</p>

        <Button
          type="button"
          className="flex items-center justify-center w-6 h-6 rounded-full"
        >
          <Plus className="size-3 stroke-3" />
        </Button>
      </div>
    </div>
  </div>
  <label
    class="flex items-center w-full rounded-xl p-2 gap-3 bg-white ring-1 ring-primary/20 focus-within:ring-secondary focus-within:ring-opacity-100 transition-all duration-300"
  >
    <NotebookPen className="size-4 stroke-primary" />
    <input
      type="text"
      name="notes"
      id="notes"
      data-id="1"
      class="appearance-none outline-none w-full font-regular placeholder:text-muted-foreground placeholder:font-normal"
      placeholder="Write notes..."
    />
  </label>
</div>
